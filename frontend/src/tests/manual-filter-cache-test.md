# 筛选选项缓存功能手动测试指南

## 测试目标
验证用户的搜索和筛选选项能够在浏览器中持久化保存，并在下次打开应用时恢复。

## 测试步骤

### 1. 基本筛选选项缓存测试

1. **打开应用**
   - 访问 http://localhost:3000
   - 确认所有筛选选项都是默认值

2. **设置筛选选项**
   - 在搜索框中输入："工作任务"
   - 选择任务类型："工作"
   - 选择状态筛选："进行中"
   - 选择优先级筛选："高"
   - 切换"显示所有层级"为开启状态

3. **验证缓存保存**
   - 刷新页面 (F5 或 Ctrl+R)
   - 确认所有设置的筛选选项都被保持：
     - 搜索框显示："工作任务"
     - 任务类型显示："工作"
     - 状态筛选显示："进行中"
     - 优先级筛选显示："高"
     - "显示所有层级"保持开启状态

### 2. 任务管理模式缓存测试

1. **切换任务管理模式**
   - 点击任务管理下拉菜单
   - 选择"信息资源"模式

2. **设置信息资源筛选选项**
   - 在信息资源搜索框中输入："重要文档"
   - 选择信息资源状态："活跃"
   - 选择信息资源类型："文档"

3. **验证模式和筛选选项缓存**
   - 刷新页面
   - 确认应用自动切换到"信息资源"模式
   - 确认信息资源的筛选选项都被保持

### 3. 跨模式缓存测试

1. **在任务模式设置筛选**
   - 切换回"任务管理"模式
   - 设置任务筛选选项

2. **切换到其他模式**
   - 切换到"定时提醒"模式
   - 再切换到"AI番茄钟"模式

3. **验证跨模式缓存**
   - 刷新页面
   - 确认应用记住了最后选择的模式
   - 切换回"任务管理"模式，确认之前的筛选选项仍然保持

### 4. 浏览器兼容性测试

1. **测试不同浏览器**
   - 在Chrome中设置筛选选项
   - 在Firefox中打开应用，确认筛选选项独立
   - 在Safari中打开应用，确认筛选选项独立

2. **测试隐私模式**
   - 在隐私/无痕模式下设置筛选选项
   - 关闭隐私窗口后重新打开，确认选项不会保持（这是预期行为）

### 5. 边界情况测试

1. **长文本搜索**
   - 输入很长的搜索查询
   - 刷新页面，确认长文本被正确保存和恢复

2. **特殊字符搜索**
   - 输入包含特殊字符的搜索查询（如：@#$%^&*()）
   - 刷新页面，确认特殊字符被正确处理

3. **清除浏览器数据**
   - 在开发者工具中清除localStorage
   - 刷新页面，确认所有选项恢复为默认值

## 预期结果

- ✅ 所有筛选选项在页面刷新后保持不变
- ✅ 任务管理模式在页面刷新后保持不变
- ✅ 不同模式的筛选选项独立保存
- ✅ 长文本和特殊字符正确处理
- ✅ 清除浏览器数据后恢复默认值
- ✅ 不同浏览器的设置相互独立

## 开发者工具验证

可以在浏览器开发者工具的Console中运行以下命令来检查缓存：

```javascript
// 查看当前缓存的筛选选项
console.log(JSON.parse(localStorage.getItem('aigtd_filter_options')));

// 手动清除缓存
localStorage.removeItem('aigtd_filter_options');

// 手动设置缓存
localStorage.setItem('aigtd_filter_options', JSON.stringify({
  searchQuery: 'test',
  selectedTaskType: 'work',
  statusFilter: 'completed'
}));
```

## 故障排除

如果测试失败，请检查：

1. **浏览器控制台错误**：查看是否有JavaScript错误
2. **localStorage支持**：确认浏览器支持localStorage
3. **存储配额**：确认localStorage没有达到存储限制
4. **网络问题**：确认应用正确加载

## 测试完成标准

- [ ] 基本筛选选项缓存正常工作
- [ ] 任务管理模式缓存正常工作
- [ ] 跨模式缓存正常工作
- [ ] 浏览器兼容性良好
- [ ] 边界情况处理正确
- [ ] 开发者工具验证通过
